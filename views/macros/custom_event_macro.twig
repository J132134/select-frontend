{% macro ridi_select_load(
  loginUserId,
  isPc,
  isTablet,
  isMobile,
  isPaper,
  paperDeviceModel,
  isRidiApp,
  freePromotionMonths,
  OAUTH2_CLIENT_ID
) %}
<script>
  window.dispatchEvent(new CustomEvent('ridiSelectLoad', {
    detail: {
      targetElementId: 'app',
      dto: {
        user: {
          {# tracking_macro.twig 에서만 사용하고, SAP에서는 자체적으로 `/accounts/me` API를 호출한 결과를 사용함 #}
          uId: '{{ loginUserId }}',
        },
        environment: {
          platform: {
            type: '{{ isMobile ? 'mobile' : isPc ? 'pc' : isTablet ? 'tablet' : isPaper ? 'paper' : isRidiApp ? 'ridi_app' : 'unknown' }}',
            isPc: {{ isPc ? 'true' : 'false' }},
            isTablet: {{ isTablet ? 'true' : 'false' }},
            isMobile: {{ isMobile ? 'true' : 'false' }},
            isPaper: {{ isPaper ? 'true' : 'false' }},
            isPaperPro: {{ paperDeviceModel == 'paper_pro' ? 'true' : 'false' }},
            isRidiApp: (/RIDIBOOKS\/[0-9]+\.[0-9]+/).test(navigator.userAgent),
          },
          constants: {
            BASE_URL_STORE: '{{ BASE_URL_STORE}}',
            BASE_URL: '{{ BASE_URL }}',
            BASE_URL_STATIC: '{{ BASE_URL_STATIC }}',
            BASE_URL_RIDI_PAY_API: '{{ BASE_URL_RIDI_PAY_API }}',
            FREE_PROMOTION_MONTHS: {{ freePromotionMonths }},
            OAUTH2_CLIENT_ID: '{{ OAUTH2_CLIENT_ID }}',
          }
        },
      },
    }
  }));
</script>
{% endmacro %}
